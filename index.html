<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>007 Cinematic Universe</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Cinzel:wght@700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --gold: #FFD700;
      --dark-gold: #D4AF37;
      --black: #0A0A0A;
      --dark-gray: #1A1A1A;
      --light-gray: #E5E5E5;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--black);
      color: var(--light-gray);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      scroll-behavior: smooth;
    }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: var(--dark-gray);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--dark-gold);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: var(--gold);
    }
    
    .gradient-text {
      background: linear-gradient(90deg, var(--gold), var(--dark-gold));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .movie-card {
      transition: all 0.3s ease;
      transform-style: preserve-3d;
      perspective: 1000px;
    }
    
    .movie-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 10px 20px rgba(255, 215, 0, 0.3);
    }
    
    .movie-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 50%);
      border-radius: 0.75rem;
      z-index: 1;
    }
    
    .player-overlay {
      background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.9) 100%);
    }
    
    .progress-bar {
      height: 4px;
      background: rgba(255,255,255,0.2);
    }
    
    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--dark-gold), var(--gold));
    }
    
    .bond-font {
      font-family: 'Cinzel', serif;
    }
    
    .blur-bg {
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .slide-up {
      animation: slideUp 0.3s ease-out;
    }
    
    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
      70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
    }
    
    /* Mobile menu animation */
    .mobile-menu {
      transition: all 0.3s ease;
      max-height: 0;
      overflow: hidden;
    }
    
    .mobile-menu.open {
      max-height: 500px;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .movie-card {
        width: 100%;
      }
      
      .featured-movie {
        height: 60vh;
      }
      
      .movie-info {
        padding: 1rem;
      }
      
      .player-controls {
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .volume-controls {
        width: 100%;
        justify-content: space-between;
      }
    }
    
    @media (max-width: 480px) {
      .featured-movie {
        height: 50vh;
      }
      
      .movie-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body class="flex flex-col min-h-screen">
  <!-- Header with mobile menu -->
  <header class="bg-gradient-to-r from-black to-gray-900 py-4 px-4 shadow-lg border-b border-yellow-600 sticky top-0 z-50">
    <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
      <div class="flex items-center justify-between w-full md:w-auto mb-4 md:mb-0">
        <div class="flex items-center">
          <div class="w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center mr-3">
            <i class="fas fa-gun text-black text-lg"></i>
          </div>
          <h1 class="text-2xl md:text-3xl font-bold gradient-text bond-font">007 CINEMATIC UNIVERSE</h1>
        </div>
        <button id="mobileMenuButton" class="md:hidden text-yellow-500 text-xl">
          <i class="fas fa-bars"></i>
        </button>
      </div>
      
      <div class="mobile-menu md:relative w-full md:w-auto md:block">
        <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-6 py-4 md:py-0">
          <nav class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6 text-sm md:text-base">
            <a href="#" class="text-gray-300 hover:text-yellow-500 transition duration-300">Movies</a>
            <a href="#" class="text-gray-300 hover:text-yellow-500 transition duration-300">Agents</a>
            <a href="#" class="text-gray-300 hover:text-yellow-500 transition duration-300">Gadgets</a>
            <a href="#" class="text-gray-300 hover:text-yellow-500 transition duration-300">Villains</a>
          </nav>
          
          <div class="relative w-full md:w-64">
            <input 
              id="searchBar" 
              type="text" 
              placeholder="Search Bond movies..." 
              class="w-full bg-gray-800 text-white px-4 py-2 rounded-full border border-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent placeholder-gray-400 text-sm"
            >
            <i class="fas fa-search absolute right-3 top-2.5 text-yellow-500"></i>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow container mx-auto px-4 py-6">
    <!-- Featured Movie -->
    <div class="featured-movie relative rounded-xl overflow-hidden h-96 mb-12 fade-in">
      <div class="absolute inset-0 bg-gradient-to-r from-black via-transparent to-black z-10"></div>
      <img 
        src="https://www.007.com/wp-content/uploads/2020/10/NTBD_1SHT_Online_v5_RGB-scaled.jpg" 
        alt="No Time To Die" 
        class="w-full h-full object-cover"
      >
      <div class="absolute bottom-0 left-0 z-20 p-6 md:p-8 w-full">
        <div class="flex items-center mb-2">
          <span class="bg-yellow-600 text-black text-xs font-bold px-2 py-1 rounded mr-3">NEW</span>
          <h2 class="text-2xl md:text-4xl font-bold text-white">No Time To Die</h2>
        </div>
        <div class="flex items-center space-x-4 mb-3">
          <span class="text-yellow-500 text-sm">2021</span>
          <span class="text-gray-400 text-sm">•</span>
          <span class="text-yellow-500 text-sm flex items-center">
            <i class="fas fa-star mr-1"></i> 7.3/10
          </span>
          <span class="text-gray-400 text-sm">•</span>
          <span class="text-gray-400 text-sm">2h 43m</span>
        </div>
        <p class="text-gray-300 mb-4 max-w-2xl text-sm md:text-base">Bond has left active service and is enjoying a tranquil life in Jamaica. His peace is short-lived when his old friend Felix Leiter from the CIA turns up asking for help.</p>
        <div class="flex space-x-3">
          <button class="bg-yellow-600 hover:bg-yellow-700 text-black font-bold py-2 px-4 md:px-6 rounded-full flex items-center transition duration-300 text-sm md:text-base">
            <i class="fas fa-play mr-2"></i> Watch Now
          </button>
          <button class="bg-gray-800 hover:bg-gray-700 text-white font-bold py-2 px-4 md:px-6 rounded-full flex items-center transition duration-300 text-sm md:text-base">
            <i class="fas fa-info-circle mr-2"></i> Details
          </button>
        </div>
      </div>
    </div>

    <!-- Collections -->
    <div class="mb-12">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-xl md:text-2xl font-bold text-white flex items-center">
          <span class="gradient-text bond-font">Bond Collections</span>
        </h2>
        <a href="#" class="text-sm text-yellow-500 hover:text-yellow-400 flex items-center">
          View All <i class="fas fa-chevron-right ml-1"></i>
        </a>
      </div>
      
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 overflow-x-auto pb-4 -mx-4 px-4 scrollbar">
        <div class="collection-card relative rounded-lg overflow-hidden min-w-[150px] h-40 cursor-pointer group">
          <img src="https://m.media-amazon.com/images/M/MV5BOWQ1MDE1NzgtNTQ4OC00ZjliLTllZDAtN2IyOTVmMTc5YjUxXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg" 
               alt="Connery Era" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold text-sm md:text-base">Connery Era</h3>
            <p class="text-gray-300 text-xs">1962-1971</p>
          </div>
        </div>
        
        <div class="collection-card relative rounded-lg overflow-hidden min-w-[150px] h-40 cursor-pointer group">
          <img src="https://m.media-amazon.com/images/M/MV5BNDQ3NDk5NzQtMTIzNS00OTIwLTk0YjUtYmY1ZjU2Y2YxYjVlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg" 
               alt="Moore Era" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold text-sm md:text-base">Moore Era</h3>
            <p class="text-gray-300 text-xs">1973-1985</p>
          </div>
        </div>
        
        <div class="collection-card relative rounded-lg overflow-hidden min-w-[150px] h-40 cursor-pointer group">
          <img src="https://m.media-amazon.com/images/M/MV5BMzM3Njg4MDYwN15BMl5BanBnXkFtZTcwOTI3Njg1NA@@._V1_.jpg" 
               alt="Dalton Era" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold text-sm md:text-base">Dalton Era</h3>
            <p class="text-gray-300 text-xs">1987-1989</p>
          </div>
        </div>
        
        <div class="collection-card relative rounded-lg overflow-hidden min-w-[150px] h-40 cursor-pointer group">
          <img src="https://m.media-amazon.com/images/M/MV5BOWIwODIxYWItZDI4MS00YzhhLWE3MmYtMzlhZDIwOTMzZmE5L2ltYWdlXkEyXkFqcGdeQXVyNjQzNDI3NzY@._V1_.jpg" 
               alt="Brosnan Era" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold text-sm md:text-base">Brosnan Era</h3>
            <p class="text-gray-300 text-xs">1995-2002</p>
          </div>
        </div>
        
        <div class="collection-card relative rounded-lg overflow-hidden min-w-[150px] h-40 cursor-pointer group">
          <img src="https://m.media-amazon.com/images/M/MV5BMTk4ODQzNDY3Ml5BMl5BanBnXkFtZTcwODA0NTM4Nw@@._V1_FMjpg_UX1000_.jpg" 
               alt="Craig Era" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold text-sm md:text-base">Craig Era</h3>
            <p class="text-gray-300 text-xs">2006-2021</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Movie Grid -->
    <div class="mb-8">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-xl md:text-2xl font-bold text-white flex items-center">
          <span class="gradient-text bond-font">The Complete Collection</span>
          <span class="ml-2 text-sm text-gray-400">(23 Movies)</span>
        </h2>
        <div class="flex items-center space-x-2">
          <button id="sortButton" class="text-gray-400 hover:text-yellow-500 text-sm flex items-center">
            <i class="fas fa-sort mr-1"></i> Sort
          </button>
          <div id="sortDropdown" class="hidden absolute mt-8 bg-gray-800 rounded-md shadow-lg z-10 p-2 min-w-[120px]">
            <button class="sort-option w-full text-left px-3 py-1 text-sm text-gray-300 hover:text-yellow-500 hover:bg-gray-700 rounded">By Year</button>
            <button class="sort-option w-full text-left px-3 py-1 text-sm text-gray-300 hover:text-yellow-500 hover:bg-gray-700 rounded">By Rating</button>
            <button class="sort-option w-full text-left px-3 py-1 text-sm text-gray-300 hover:text-yellow-500 hover:bg-gray-700 rounded">A-Z</button>
          </div>
          <button id="filterButton" class="text-gray-400 hover:text-yellow-500 text-sm flex items-center">
            <i class="fas fa-filter mr-1"></i> Filter
          </button>
        </div>
      </div>
      
      <div id="movieGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
        <!-- Movie cards will be inserted here by JavaScript -->
      </div>
      
      <div class="flex justify-center mt-8">
        <button id="loadMore" class="bg-gray-800 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-full flex items-center transition duration-300">
          <i class="fas fa-redo mr-2"></i> Load More
        </button>
      </div>
    </div>
    
    <!-- Featured Villains -->
    <div class="mb-12">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-xl md:text-2xl font-bold text-white flex items-center">
          <span class="gradient-text bond-font">Iconic Villains</span>
        </h2>
        <a href="#" class="text-sm text-yellow-500 hover:text-yellow-400 flex items-center">
          View All <i class="fas fa-chevron-right ml-1"></i>
        </a>
      </div>
      
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
        <div class="villain-card relative rounded-lg overflow-hidden h-48 cursor-pointer group">
          <img src="https://static.wikia.nocookie.net/jamesbond/images/7/7e/Ernst_Stavro_Blofeld_-_SPECTRE_%282015%29.jpg" 
               alt="Blofeld" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold">Ernst Stavro Blofeld</h3>
            <p class="text-gray-300 text-sm">SPECTRE Leader</p>
          </div>
        </div>
        
        <div class="villain-card relative rounded-lg overflow-hidden h-48 cursor-pointer group">
          <img src="https://static.wikia.nocookie.net/jamesbond/images/8/8a/Auric_Goldfinger_-_GOLDFINGER_%281964%29.jpg" 
               alt="Goldfinger" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold">Auric Goldfinger</h3>
            <p class="text-gray-300 text-sm">Gold Smuggler</p>
          </div>
        </div>
        
        <div class="villain-card relative rounded-lg overflow-hidden h-48 cursor-pointer group">
          <img src="https://static.wikia.nocookie.net/jamesbond/images/3/3f/Raoul_Silva_-_SKYFALL_%282012%29.jpg" 
               alt="Silva" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold">Raoul Silva</h3>
            <p class="text-gray-300 text-sm">Ex-MI6 Agent</p>
          </div>
        </div>
        
        <div class="villain-card relative rounded-lg overflow-hidden h-48 cursor-pointer group">
          <img src="https://static.wikia.nocookie.net/jamesbond/images/7/7a/Le_Chiffre_-_CASINO_ROYALE_%282006%29.jpg" 
               alt="Le Chiffre" 
               class="w-full h-full object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold">Le Chiffre</h3>
            <p class="text-gray-300 text-sm">Banker to Terrorists</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Player Modal (hidden by default) -->
  <div id="playerModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-90 fade-in">
    <div class="relative w-full h-full max-w-6xl mx-auto flex flex-col">
      <!-- Close Button -->
      <button id="closePlayer" class="absolute top-4 right-4 z-50 text-white hover:text-yellow-500 text-2xl bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center">
        <i class="fas fa-times"></i>
      </button>
      
      <!-- Player Container -->
      <div class="flex-grow relative">
        <video id="moviePlayer" class="w-full h-full object-contain" controls></video>
        
        <!-- Custom Controls -->
        <div class="player-overlay absolute bottom-0 left-0 right-0 p-4 flex flex-col z-40">
          <div class="progress-bar w-full mb-2">
            <div id="progressBarFill" class="progress-bar-fill w-0"></div>
          </div>
          
          <div class="player-controls flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <button id="playPauseBtn" class="text-white hover:text-yellow-500 text-xl">
                <i class="fas fa-play"></i>
              </button>
              <span id="currentTime" class="text-white text-sm">0:00</span>
              <span class="text-gray-400 text-sm">/</span>
              <span id="duration" class="text-gray-400 text-sm">0:00</span>
            </div>
            
            <div class="volume-controls flex items-center space-x-4">
              <button id="muteBtn" class="text-white hover:text-yellow-500">
                <i class="fas fa-volume-up"></i>
              </button>
              <input 
                id="volumeSlider" 
                type="range" 
                min="0" 
                max="1" 
                step="0.01" 
                value="1" 
                class="w-20 accent-yellow-500"
              >
              <button id="fullscreenBtn" class="text-white hover:text-yellow-500">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Movie Info -->
      <div id="playerInfo" class="bg-gray-900 p-4 text-white">
        <div class="flex items-start justify-between">
          <div>
            <h3 id="playerTitle" class="text-xl font-bold mb-1"></h3>
            <div class="flex items-center text-sm text-gray-400">
              <span id="playerYear" class="mr-4"></span>
              <span id="playerRating" class="flex items-center mr-4">
                <i class="fas fa-star text-yellow-500 mr-1"></i>
              </span>
              <span id="playerDuration" class="flex items-center">
                <i class="fas fa-clock text-yellow-500 mr-1"></i>
              </span>
            </div>
          </div>
          <div class="flex space-x-2">
            <button id="addToWatchlist" class="text-white hover:text-yellow-500">
              <i class="fas fa-plus-circle text-xl"></i>
            </button>
            <button id="shareMovie" class="text-white hover:text-yellow-500">
              <i class="fas fa-share-alt text-xl"></i>
            </button>
          </div>
        </div>
        <p id="playerDescription" class="text-gray-300 mt-2 text-sm"></p>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 border-t border-gray-800 py-6 px-4">
    <div class="container mx-auto">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-4 md:mb-0 text-center md:text-left">
          <div class="flex items-center justify-center md:justify-start mb-2">
            <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center mr-2">
              <i class="fas fa-gun text-black text-sm"></i>
            </div>
            <h2 class="text-xl font-bold gradient-text bond-font">007 CINEMATIC UNIVERSE</h2>
          </div>
          <p class="text-gray-400 text-sm">&copy; 2023 007 Cinematic Universe. All rights reserved.</p>
        </div>
        <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6">
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-yellow-500 transition duration-300">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-yellow-500 transition duration-300">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-yellow-500 transition duration-300">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-yellow-500 transition duration-300">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
          <div class="flex space-x-4 text-sm">
            <a href="#" class="text-gray-400 hover:text-yellow-500">Privacy</a>
            <a href="#" class="text-gray-400 hover:text-yellow-500">Terms</a>
            <a href="#" class="text-gray-400 hover:text-yellow-500">Help</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Enhanced movie data with more details
    const movies = [
      { 
        title: "Dr. No", 
        year: 1962,
        rating: 7.3,
        duration: "1h 50m",
        actors: ["Sean Connery", "Ursula Andress", "Joseph Wiseman"],
        director: "Terence Young",
        video: "https://example.com/videos/drno.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNWM0ZjJlYjgtZGUyOC00OGJhLWIyOTgtYWUwMzAxOTU3OTY3XkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond's investigation of a missing colleague in Jamaica leads him to the mysterious Dr. No, a scientific genius bent on destroying the U.S. space program.",
        villain: "Dr. Julius No",
        themeSong: "James Bond Theme",
        tags: ["Sean Connery", "Classic", "SPECTRE"]
      },
      { 
        title: "From Russia with Love", 
        year: 1963,
        rating: 7.4,
        duration: "1h 55m",
        actors: ["Sean Connery", "Daniela Bianchi", "Pedro Armendáriz"],
        director: "Terence Young",
        video: "https://example.com/videos/frwl.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BODFlYzU4YTItY2QyYy00NjJmLWE0ZWItYjJhNDA4ZDI0ZGM5XkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond willingly falls into an assassination plot involving a Russian defector in order to retrieve a Soviet encryption device.",
        villain: "Rosa Klebb",
        themeSong: "From Russia with Love",
        tags: ["Sean Connery", "Cold War", "SPECTRE"]
      },
      { 
        title: "Goldfinger", 
        year: 1964,
        rating: 7.7,
        duration: "1h 50m",
        actors: ["Sean Connery", "Honor Blackman", "Gert Fröbe"],
        director: "Guy Hamilton",
        video: "https://example.com/videos/goldfinger.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTY0MTg2MjY5NV5BMl5BanBnXkFtZTgwMzA0NzYxMTE@._V1_FMjpg_UX1000_.jpg",
        description: "Investigating a gold magnate's smuggling, James Bond uncovers a plot to contaminate the Fort Knox gold reserve.",
        villain: "Auric Goldfinger",
        themeSong: "Goldfinger",
        tags: ["Sean Connery", "Iconic", "SPECTRE"]
      },
      { 
        title: "Thunderball", 
        year: 1965,
        rating: 7.0,
        duration: "2h 10m",
        actors: ["Sean Connery", "Claudine Auger", "Adolfo Celi"],
        director: "Terence Young",
        video: "https://example.com/videos/thunderball.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTQ1NDk1MjA0N15BMl5BanBnXkFtZTgwMjA0NzYxMTE@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond heads to the Bahamas to recover two nuclear warheads stolen by SPECTRE agent Emilio Largo in an international extortion scheme.",
        villain: "Emilio Largo",
        themeSong: "Thunderball",
        tags: ["Sean Connery", "Underwater", "SPECTRE"]
      },
      { 
        title: "You Only Live Twice", 
        year: 1967,
        rating: 6.8,
        duration: "1h 57m",
        actors: ["Sean Connery", "Akiko Wakabayashi", "Mie Hama"],
        director: "Lewis Gilbert",
        video: "https://example.com/videos/yolt.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTU1ODQ4NjQyOV5BMl5BanBnXkFtZTgwOTM3MDEwMzI@._V1_FMjpg_UX1000_.jpg",
        description: "Agent 007 and the Japanese secret service ninja force must find and stop the true culprit of a series of spacejackings before nuclear war is provoked.",
        villain: "Ernst Stavro Blofeld",
        themeSong: "You Only Live Twice",
        tags: ["Sean Connery", "Japan", "SPECTRE"]
      },
      { 
        title: "On Her Majesty's Secret Service", 
        year: 1969,
        rating: 6.7,
        duration: "2h 22m",
        actors: ["George Lazenby", "Diana Rigg", "Telly Savalas"],
        director: "Peter R. Hunt",
        video: "https://example.com/videos/ohmss.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BOWIzZGUxZmItOThkMS00Y2QxLTg0MTYtMDVlMmQ2ZWIzMGM2XkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond woos a mob boss's daughter and goes undercover to uncover the true reason for Blofeld's allergy research in the Swiss Alps.",
        villain: "Ernst Stavro Blofeld",
        themeSong: "We Have All the Time in the World",
        tags: ["George Lazenby", "Alps", "SPECTRE"]
      },
      { 
        title: "Diamonds Are Forever", 
        year: 1971,
        rating: 6.5,
        duration: "2h 0m",
        actors: ["Sean Connery", "Jill St. John", "Charles Gray"],
        director: "Guy Hamilton",
        video: "https://example.com/videos/daf.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BZGRhYjI2YWMtNDE5YS00ZDEwLTk5OTMtM2RlODJjY2U1ZWRkXkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_FMjpg_UX1000_.jpg",
        description: "A diamond smuggling investigation leads James Bond to Las Vegas, where he uncovers an evil plot involving a rich business tycoon.",
        villain: "Ernst Stavro Blofeld",
        themeSong: "Diamonds Are Forever",
        tags: ["Sean Connery", "Las Vegas", "SPECTRE"]
      },
      { 
        title: "Live and Let Die", 
        year: 1973,
        rating: 6.7,
        duration: "2h 1m",
        actors: ["Roger Moore", "Jane Seymour", "Yaphet Kotto"],
        director: "Guy Hamilton",
        video: "https://example.com/videos/lald.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BODQ0NTI0OTk0M15BMl5BanBnXkFtZTgwMDI1MDg5MTI@._V1_FMjpg_UX1000_.jpg",
        description: "007 is sent to stop a diabolically brilliant heroin magnate armed with a complex organization and a reliable psychic tarot card reader.",
        villain: "Dr. Kananga",
        themeSong: "Live and Let Die",
        tags: ["Roger Moore", "Voodoo", "Blaxploitation"]
      },
      { 
        title: "The Man with the Golden Gun", 
        year: 1974,
        rating: 6.7,
        duration: "2h 5m",
        actors: ["Roger Moore", "Christopher Lee", "Britt Ekland"],
        director: "Guy Hamilton",
        video: "https://example.com/videos/tmwtgg.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BOWVmZGQ0MGYtMDI1Yy00M2RhLTkyMWQtZDQ3ODVlYWQwZjQzXkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond is led to believe that he is targeted by the world's most expensive assassin while he attempts to recover sensitive solar cell technology.",
        villain: "Francisco Scaramanga",
        themeSong: "The Man with the Golden Gun",
        tags: ["Roger Moore", "Christopher Lee", "Solar Energy"]
      },
      { 
        title: "The Spy Who Loved Me", 
        year: 1977,
        rating: 7.1,
        duration: "2h 5m",
        actors: ["Roger Moore", "Barbara Bach", "Curd Jürgens"],
        director: "Lewis Gilbert",
        video: "https://example.com/videos/tswlm.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNDY1MzkzMTYwM15BMl5BanBnXkFtZTgwNDQ3NzYwMTI@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond investigates the hijacking of British and Russian submarines carrying nuclear warheads with the help of a KGB agent.",
        villain: "Karl Stromberg",
        themeSong: "Nobody Does It Better",
        tags: ["Roger Moore", "Cold War", "Submarine"]
      },
      { 
        title: "Moonraker", 
        year: 1979,
        rating: 6.3,
        duration: "2h 6m",
        actors: ["Roger Moore", "Lois Chiles", "Michael Lonsdale"],
        director: "Lewis Gilbert",
        video: "https://example.com/videos/moonraker.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTY0MTg2MjY5NV5BMl5BanBnXkFtZTgwMzA0NzYxMTE@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond investigates the mid-air theft of a space shuttle and discovers a plot to commit global genocide.",
        villain: "Hugo Drax",
        themeSong: "Moonraker",
        tags: ["Roger Moore", "Space", "Sci-Fi"]
      },
      { 
        title: "For Your Eyes Only", 
        year: 1981,
        rating: 6.8,
        duration: "2h 7m",
        actors: ["Roger Moore", "Carole Bouquet", "Topol"],
        director: "John Glen",
        video: "https://example.com/videos/fyeo.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "Agent 007 is assigned to hunt for a lost British encryption device and prevent it from falling into enemy hands.",
        villain: "Aristotle Kristatos",
        themeSong: "For Your Eyes Only",
        tags: ["Roger Moore", "Greece", "Cold War"]
      },
      { 
        title: "Octopussy", 
        year: 1983,
        rating: 6.5,
        duration: "2h 11m",
        actors: ["Roger Moore", "Maud Adams", "Louis Jourdan"],
        director: "John Glen",
        video: "https://example.com/videos/octopussy.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "A fake Fabergé egg and a fellow agent's death lead James Bond to uncover an international jewel-smuggling operation.",
        villain: "Kamal Khan",
        themeSong: "All Time High",
        tags: ["Roger Moore", "India", "Cold War"]
      },
      { 
        title: "A View to a Kill", 
        year: 1985,
        rating: 6.3,
        duration: "2h 11m",
        actors: ["Roger Moore", "Christopher Walken", "Tanya Roberts"],
        director: "John Glen",
        video: "https://example.com/videos/avtak.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "An investigation of a horse-racing scam leads James Bond to a mad industrialist who plans to create a worldwide microchip monopoly by destroying California's Silicon Valley.",
        villain: "Max Zorin",
        themeSong: "A View to a Kill",
        tags: ["Roger Moore", "California", "Tech"]
      },
      { 
        title: "The Living Daylights", 
        year: 1987,
        rating: 6.7,
        duration: "2h 10m",
        actors: ["Timothy Dalton", "Maryam d'Abo", "Jeroen Krabbé"],
        director: "John Glen",
        video: "https://example.com/videos/tld.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond is sent to investigate a KGB policy to kill all enemy spies and uncovers an arms deal that could have major ramifications.",
        villain: "Brad Whitaker",
        themeSong: "The Living Daylights",
        tags: ["Timothy Dalton", "Cold War", "Realistic"]
      },
      { 
        title: "Licence to Kill", 
        year: 1989,
        rating: 6.5,
        duration: "2h 13m",
        actors: ["Timothy Dalton", "Carey Lowell", "Robert Davi"],
        director: "John Glen",
        video: "https://example.com/videos/ltk.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond goes rogue to avenge the attack on Felix Leiter and the death of his wife, taking on a drug lord in a deadly campaign.",
        villain: "Franz Sanchez",
        themeSong: "Licence to Kill",
        tags: ["Timothy Dalton", "Dark", "Revenge"]
      },
      { 
        title: "GoldenEye", 
        year: 1995,
        rating: 7.2,
        duration: "2h 10m",
        actors: ["Pierce Brosnan", "Izabella Scorupco", "Sean Bean"],
        director: "Martin Campbell",
        video: "https://example.com/videos/goldeneye.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond teams up with the lone survivor of a destroyed Russian research center to stop the hijacking of a nuclear space weapon.",
        villain: "Alec Trevelyan",
        themeSong: "GoldenEye",
        tags: ["Pierce Brosnan", "Post-Cold War", "Reboot"]
      },
      { 
        title: "Tomorrow Never Dies", 
        year: 1997,
        rating: 6.5,
        duration: "1h 59m",
        actors: ["Pierce Brosnan", "Michelle Yeoh", "Jonathan Pryce"],
        director: "Roger Spottiswoode",
        video: "https://example.com/videos/tnd.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond heads to stop a media mogul's plan to induce war between China and the UK in order to obtain exclusive global media coverage.",
        villain: "Elliot Carver",
        themeSong: "Tomorrow Never Dies",
        tags: ["Pierce Brosnan", "Media", "China"]
      },
      { 
        title: "The World Is Not Enough", 
        year: 1999,
        rating: 6.4,
        duration: "2h 8m",
        actors: ["Pierce Brosnan", "Sophie Marceau", "Robert Carlyle"],
        director: "Michael Apted",
        video: "https://example.com/videos/twine.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond uncovers a nuclear plot when he protects an oil heiress from her former kidnapper, an international terrorist who can't feel pain.",
        villain: "Renard",
        themeSong: "The World Is Not Enough",
        tags: ["Pierce Brosnan", "Oil", "Istanbul"]
      },
      { 
        title: "Die Another Day", 
        year: 2002,
        rating: 6.1,
        duration: "2h 13m",
        actors: ["Pierce Brosnan", "Halle Berry", "Toby Stephens"],
        director: "Lee Tamahori",
        video: "https://example.com/videos/dad.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond is sent to investigate the connection between a North Korean terrorist and a diamond mogul who is funding the development of an international space weapon.",
        villain: "Gustav Graves",
        themeSong: "Die Another Day",
        tags: ["Pierce Brosnan", "North Korea", "Invisible Car"]
      },
      { 
        title: "Casino Royale", 
        year: 2006,
        rating: 8.0,
        duration: "2h 24m",
        actors: ["Daniel Craig", "Eva Green", "Mads Mikkelsen"],
        director: "Martin Campbell",
        video: "https://example.com/videos/casinoroyale.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "After earning 00 status and a licence to kill, James Bond sets out on his first mission as 007, which leads him to Le Chiffre, a banker to the world's terrorists.",
        villain: "Le Chiffre",
        themeSong: "You Know My Name",
        tags: ["Daniel Craig", "Reboot", "Poker"]
      },
      { 
        title: "Quantum of Solace", 
        year: 2008,
        rating: 6.6,
        duration: "1h 46m",
        actors: ["Daniel Craig", "Olga Kurylenko", "Mathieu Amalric"],
        director: "Marc Forster",
        video: "https://example.com/videos/qos.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond descends into mystery as he tries to stop a mysterious organization from eliminating a country's most valuable resource.",
        villain: "Dominic Greene",
        themeSong: "Another Way to Die",
        tags: ["Daniel Craig", "Quantum", "Water"]
      },
      { 
        title: "Skyfall", 
        year: 2012,
        rating: 7.8,
        duration: "2h 23m",
        actors: ["Daniel Craig", "Javier Bardem", "Naomie Harris"],
        director: "Sam Mendes",
        video: "https://example.com/videos/skyfall.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "James Bond's loyalty to M is tested when her past comes back to haunt her. When MI6 comes under attack, 007 must track down and destroy the threat.",
        villain: "Raoul Silva",
        themeSong: "Skyfall",
        tags: ["Daniel Craig", "MI6", "Javier Bardem"]
      },
      { 
        title: "Spectre", 
        year: 2015,
        rating: 6.8,
        duration: "2h 28m",
        actors: ["Daniel Craig", "Léa Seydoux", "Christoph Waltz"],
        director: "Sam Mendes",
        video: "https://example.com/videos/spectre.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "A cryptic message from Bond's past sends him on a trail to uncover a sinister organization. While M battles political forces to keep the secret service alive.",
        villain: "Ernst Stavro Blofeld",
        themeSong: "Writing's on the Wall",
        tags: ["Daniel Craig", "SPECTRE", "Blofeld"]
      },
      { 
        title: "No Time to Die", 
        year: 2021,
        rating: 7.3,
        duration: "2h 43m",
        actors: ["Daniel Craig", "Léa Seydoux", "Rami Malek"],
        director: "Cary Joji Fukunaga",
        video: "https://example.com/videos/nttd.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BMTM1ODIwMzI5N15BMl5BanBnXkFtZTcwNjEyODIyNA@@._V1_FMjpg_UX1000_.jpg",
        description: "Bond has left active service and is enjoying a tranquil life in Jamaica. His peace is short-lived when his old friend Felix Leiter from the CIA turns up asking for help.",
        villain: "Lyutsifer Safin",
        themeSong: "No Time to Die",
        tags: ["Daniel Craig", "Finale", "Jamaica"]
      }
    ];

    // DOM Elements
    const container = document.getElementById('movieGrid');
    const searchBar = document.getElementById('searchBar');
    const playerModal = document.getElementById('playerModal');
    const moviePlayer = document.getElementById('moviePlayer');
    const closePlayer = document.getElementById('closePlayer');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const muteBtn = document.getElementById('muteBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    const fullscreenBtn = document.getElementById('fullscreenBtn');
    const progressBarFill = document.getElementById('progressBarFill');
    const currentTime = document.getElementById('currentTime');
    const duration = document.getElementById('duration');
    const playerTitle = document.getElementById('playerTitle');
    const playerYear = document.getElementById('playerYear');
    const playerRating = document.getElementById('playerRating');
    const playerDuration = document.getElementById('playerDuration');
    const playerDescription = document.getElementById('playerDescription');
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileMenu = document.querySelector('.mobile-menu');
    const sortButton = document.getElementById('sortButton');
    const sortDropdown = document.getElementById('sortDropdown');
    const filterButton = document.getElementById('filterButton');
    const loadMoreButton = document.getElementById('loadMore');
    const addToWatchlist = document.getElementById('addToWatchlist');
    const shareMovie = document.getElementById('shareMovie');

    // State variables
    let currentMovies = [];
    let visibleMovies = 10;
    let currentSort = 'year';
    let currentFilter = 'all';

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      currentMovies = [...movies];
      renderMovies(currentMovies.slice(0, visibleMovies));
      setupEventListeners();
    });

    // Setup all event listeners
    function setupEventListeners() {
      // Mobile menu toggle
      mobileMenuButton.addEventListener('click', toggleMobileMenu);
      
      // Search functionality
      searchBar.addEventListener('input', handleSearch);
      
      // Sort functionality
      sortButton.addEventListener('click', toggleSortDropdown);
      document.querySelectorAll('.sort-option').forEach(option => {
        option.addEventListener('click', handleSort);
      });
      
      // Player controls
      closePlayer.addEventListener('click', closePlayerModal);
      playPauseBtn.addEventListener('click', togglePlayPause);
      muteBtn.addEventListener('click', toggleMute);
      volumeSlider.addEventListener('input', handleVolumeChange);
      fullscreenBtn.addEventListener('click', toggleFullscreen);
      moviePlayer.addEventListener('timeupdate', updateProgressBar);
      moviePlayer.addEventListener('loadedmetadata', updateDuration);
      progressBarFill.parentElement.addEventListener('click', seekVideo);
      
      // Load more movies
      loadMoreButton.addEventListener('click', loadMoreMovies);
      
      // Watchlist and share
      addToWatchlist.addEventListener('click', addToWatchlistHandler);
      shareMovie.addEventListener('click', shareMovieHandler);
      
      // Keyboard controls
      document.addEventListener('keydown', handleKeyboardControls);
      
      // Close dropdowns when clicking outside
      document.addEventListener('click', closeDropdowns);
    }

    // Render Movies
    function renderMovies(moviesToRender) {
      container.innerHTML = '';
      moviesToRender.forEach((movie, index) => {
        const movieCard = document.createElement('div');
        movieCard.className = 'movie-card relative rounded-lg overflow-hidden cursor-pointer group slide-up';
        movieCard.innerHTML = `
          <img src="${movie.image}" alt="${movie.title}" class="w-full h-48 md:h-64 object-cover transition duration-300 group-hover:opacity-70">
          <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent z-10"></div>
          <div class="absolute bottom-0 left-0 z-20 p-3 w-full">
            <h3 class="text-white font-bold text-sm md:text-base">${movie.title}</h3>
            <div class="flex items-center text-xs text-gray-300">
              <span>${movie.year}</span>
              <span class="mx-1">•</span>
              <span class="flex items-center">
                <i class="fas fa-star text-yellow-500 mr-1 text-xs"></i>
                ${movie.rating.toFixed(1)}
              </span>
              <span class="mx-1">•</span>
              <span>${movie.duration}</span>
            </div>
          </div>
          <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition duration-300 z-30">
            <button class="play-button bg-yellow-600 hover:bg-yellow-700 text-black font-bold py-2 px-4 rounded-full flex items-center transition duration-300 text-sm">
              <i class="fas fa-play mr-2"></i> Play
            </button>
          </div>
          <div class="absolute top-2 right-2 z-30 opacity-0 group-hover:opacity-100 transition duration-300">
            <button class="bg-gray-900 bg-opacity-50 hover:bg-opacity-70 text-white rounded-full w-8 h-8 flex items-center justify-center">
              <i class="fas fa-info-circle text-sm"></i>
            </button>
          </div>
        `;
        movieCard.addEventListener('click', () => openPlayer(movie, index));
        container.appendChild(movieCard);
      });
    }

    // Open Player
    function openPlayer(movie, index) {
      playerTitle.textContent = movie.title;
      playerYear.textContent = movie.year;
      playerRating.innerHTML = `${movie.rating.toFixed(1)}/10`;
      playerDuration.textContent = movie.duration;
      playerDescription.textContent = movie.description;
      
      // In a real app, you would load the actual video source
      moviePlayer.src = movie.video;
      playerModal.classList.remove('hidden');
      
      // Attempt to play (may be blocked by browser autoplay policies)
      const playPromise = moviePlayer.play();
      
      if (playPromise !== undefined) {
        playPromise.then(_ => {
          // Update play/pause button
          playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
        })
        .catch(error => {
          console.log("Autoplay was prevented:", error);
          // Show a play button overlay or something to let user start playback
        });
      }
      
      // Set focus for keyboard controls
      moviePlayer.focus();
    }

    // Close Player
    function closePlayerModal() {
      playerModal.classList.add('hidden');
      moviePlayer.pause();
      moviePlayer.currentTime = 0;
    }

    // Toggle Play/Pause
    function togglePlayPause() {
      if (moviePlayer.paused) {
        moviePlayer.play();
        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
      } else {
        moviePlayer.pause();
        playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    }

    // Toggle Mute
    function toggleMute() {
      moviePlayer.muted = !moviePlayer.muted;
      muteBtn.innerHTML = moviePlayer.muted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
      volumeSlider.value = moviePlayer.muted ? 0 : moviePlayer.volume;
    }

    // Handle Volume Change
    function handleVolumeChange() {
      moviePlayer.volume = volumeSlider.value;
      moviePlayer.muted = volumeSlider.value === '0';
      muteBtn.innerHTML = moviePlayer.muted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
    }

    // Toggle Fullscreen
    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        playerModal.requestFullscreen().catch(err => {
          console.error(`Error attempting to enable fullscreen: ${err.message}`);
        });
      } else {
        document.exitFullscreen();
      }
    }

    // Update Progress Bar
    function updateProgressBar() {
      const progress = (moviePlayer.currentTime / moviePlayer.duration) * 100;
      progressBarFill.style.width = `${progress}%`;
      currentTime.textContent = formatTime(moviePlayer.currentTime);
    }

    // Update Duration
    function updateDuration() {
      if (!isNaN(moviePlayer.duration)) {
        duration.textContent = formatTime(moviePlayer.duration);
      }
    }

    // Seek Video
    function seekVideo(e) {
      const rect = e.target.getBoundingClientRect();
      const pos = (e.clientX - rect.left) / rect.width;
      moviePlayer.currentTime = pos * moviePlayer.duration;
    }

    // Format time (seconds to MM:SS)
    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const remainingSeconds = Math.floor(seconds % 60);
      return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
    }

    // Toggle Mobile Menu
    function toggleMobileMenu() {
      mobileMenu.classList.toggle('open');
      mobileMenuButton.innerHTML = mobileMenu.classList.contains('open') ? 
        '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
    }

    // Handle Search
    function handleSearch() {
      const searchTerm = searchBar.value.toLowerCase();
      const filteredMovies = movies.filter(movie => 
        movie.title.toLowerCase().includes(searchTerm) ||
        movie.year.toString().includes(searchTerm) ||
        movie.description.toLowerCase().includes(searchTerm) ||
        movie.actors.some(actor => actor.toLowerCase().includes(searchTerm)) ||
        movie.tags.some(tag => tag.toLowerCase().includes(searchTerm))
      );
      
      currentMovies = [...filteredMovies];
      visibleMovies = 10;
      renderMovies(currentMovies.slice(0, visibleMovies));
    }

    // Toggle Sort Dropdown
    function toggleSortDropdown() {
      sortDropdown.classList.toggle('hidden');
      filterButton.classList.remove('active');
    }

    // Handle Sort
    function handleSort(e) {
      const sortBy = e.target.textContent.toLowerCase();
      let sortedMovies = [...currentMovies];
      
      switch(sortBy) {
        case 'by year':
          sortedMovies.sort((a, b) => a.year - b.year);
          currentSort = 'year';
          break;
        case 'by rating':
          sortedMovies.sort((a, b) => b.rating - a.rating);
          currentSort = 'rating';
          break;
        case 'a-z':
          sortedMovies.sort((a, b) => a.title.localeCompare(b.title));
          currentSort = 'title';
          break;
      }
      
      currentMovies = [...sortedMovies];
      visibleMovies = 10;
      renderMovies(currentMovies.slice(0, visibleMovies));
      sortDropdown.classList.add('hidden');
    }

    // Load More Movies
    function loadMoreMovies() {
      visibleMovies += 10;
      renderMovies(currentMovies.slice(0, visibleMovies));
      
      if (visibleMovies >= currentMovies.length) {
        loadMoreButton.classList.add('hidden');
      }
    }

    // Add to Watchlist
    function addToWatchlistHandler() {
      const movieTitle = playerTitle.textContent;
      addToWatchlist.innerHTML = '<i class="fas fa-check text-xl"></i>';
      addToWatchlist.classList.add('text-yellow-500');
      
      // In a real app, you would save to local storage or make an API call
      setTimeout(() => {
        addToWatchlist.innerHTML = '<i class="fas fa-plus-circle text-xl"></i>';
        addToWatchlist.classList.remove('text-yellow-500');
      }, 2000);
      
      console.log(`Added ${movieTitle} to watchlist`);
    }

    // Share Movie
    function shareMovieHandler() {
      const movieTitle = playerTitle.textContent;
      if (navigator.share) {
        navigator.share({
          title: `Watch ${movieTitle}`,
          text: `Check out this James Bond movie: ${movieTitle}`,
          url: window.location.href,
        })
        .catch(err => {
          console.log('Error sharing:', err);
          alert('Sharing failed. Please try again.');
        });
      } else {
        // Fallback for browsers that don't support Web Share API
        alert(`Share this James Bond movie: ${movieTitle}`);
      }
    }

    // Handle Keyboard Controls
    function handleKeyboardControls(e) {
      if (playerModal.classList.contains('hidden')) return;
      
      switch (e.key) {
        case ' ':
          e.preventDefault();
          togglePlayPause();
          break;
        case 'ArrowLeft':
          e.preventDefault();
          moviePlayer.currentTime = Math.max(0, moviePlayer.currentTime - 5);
          break;
        case 'ArrowRight':
          e.preventDefault();
          moviePlayer.currentTime = Math.min(moviePlayer.duration, moviePlayer.currentTime + 5);
          break;
        case 'ArrowUp':
          e.preventDefault();
          moviePlayer.volume = Math.min(1, moviePlayer.volume + 0.1);
          volumeSlider.value = moviePlayer.volume;
          break;
        case 'ArrowDown':
          e.preventDefault();
          moviePlayer.volume = Math.max(0, moviePlayer.volume - 0.1);
          volumeSlider.value = moviePlayer.volume;
          break;
        case 'm':
          e.preventDefault();
          toggleMute();
          break;
        case 'f':
          e.preventDefault();
          toggleFullscreen();
          break;
        case 'Escape':
          if (document.fullscreenElement) {
            e.preventDefault();
            document.exitFullscreen();
          } else {
            closePlayerModal();
          }
          break;
      }
    }

    // Close Dropdowns when clicking outside
    function closeDropdowns(e) {
      if (!sortButton.contains(e.target) && !sortDropdown.contains(e.target)) {
        sortDropdown.classList.add('hidden');
      }
      
      if (!mobileMenu.contains(e.target) && !mobileMenuButton.contains(e.target) && 
          !e.target.classList.contains('mobile-menu')) {
        mobileMenu.classList.remove('open');
        mobileMenuButton.innerHTML = '<i class="fas fa-bars"></i>';
      }
    }
  </script>
</body>
</html>
